{
  "hash": "c872a79f41dc8098ee47c2e1bda8aea9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Untitled\"\nauthor: \"Jeevani Bhaskar\"\ndate: \"2024-10-09\"\noutput: html_document\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Read the CSV file\ndata = read.csv(\"Data.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Preview the data\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Country Loss.in.Billion Year\n1    Spain            79.7 2019\n2 Thailand            59.7 2019\n3    Japan            46.1 2019\n4   Russia            11.0 2019\n5       UK            52.7 2019\n6    China            35.8 2019\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install and load the required packages\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter the data for the years 2019 and 2020\ndata_filtered <- data[data$Year %in% c(2019, 2020), ]\n\n# Create a bar plot comparing the losses for 2019 and 2020 by country\nggplot(data_filtered, aes(x = Country, y = Loss.in.Billion, fill = as.factor(Year))) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Loss Comparison by Country for 2019 and 2020\",\n       x = \"Country\", y = \"Loss in Billion\", fill = \"Year\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](Plots_code_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calculate the difference between 2019 and 2020 losses for each country\nlibrary(tidyr) # for spread function\ndata_diff <- spread(data_filtered, Year, Loss.in.Billion)\ndata_diff$Difference <- data_diff$`2019` - data_diff$`2020`\n\n# Create a bar plot showing the difference in loss between 2019 and 2020\nggplot(data_diff, aes(x = Country, y = Difference)) +\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  labs(title = \"Difference in Loss Between 2019 and 2020 by Country\",\n       x = \"Country\", y = \"Difference in Loss (Billion)\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](Plots_code_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\nTake 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(ggplot2)\n\n# Create the plot and assign it to an object called plot1\nplot1 = ggplot(data_filtered, aes(x = Country, y = Loss.in.Billion, fill = as.factor(Year))) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  \n  # Add text labels on top of the bars showing the exact loss values\n  geom_text(aes(label = Loss.in.Billion), \n            position = position_dodge(width = 0.9), \n            vjust = -0.5) +  # Adjust vertical position of labels\n  \n  # Use custom colors: purple for 2019 and yellow for 2020\n  scale_fill_manual(values = c(\"2019\" = \"purple\", \"2020\" = \"yellow\")) +\n  \n  # Set labels and theme\n  labs(title = \"Loss Comparison by Country for 2019 and 2020\",\n       x = \"Country\", y = \"Loss in Billion\", fill = \"Year\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\nprint(plot1)\n```\n\n::: {.cell-output-display}\n![](Plots_code_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"C:\\\\Users\\\\jeeva\\\\OneDrive\\\\Desktop\\\\STAT - First sem\\\\Mid Project\\\\Mid Project\\\\plot1_high_res.png\", plot = plot1, dpi = 300, width = 14, height = 8, units = \"in\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(tidyr)  # for spread function\nlibrary(ggplot2)  # for plotting\n\n# Spread data to have years as columns\ndata_diff <- spread(data_filtered, Year, Loss.in.Billion)\n\n# Calculate the difference\ndata_diff$Difference <- data_diff$`2019` - data_diff$`2020`\n\n# Create a bar plot showing the difference in loss between 2019 and 2020\nggplot(data_diff, aes(x = Country, y = Difference)) +\n  geom_bar(stat = \"identity\", fill = \"brown2\") +\n  labs(title = \"Comparative Analysis of Loss by Country\",  # Fixed spelling of 'Comparative'\n       x = \"Country\", y = \"Difference in Loss (Billion)\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        plot.title = element_text(hjust = 0.5)) +  # Center the title\n  geom_text(aes(label = Difference), vjust = -0.5, color = \"black\")  # Add values on top of the bars\n```\n\n::: {.cell-output-display}\n![](Plots_code_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(tidyr)  # for spread function\nlibrary(ggplot2)  # for plotting\n\n# Spread data to have years as columns\ndata_diff <- spread(data_filtered, Year, Loss.in.Billion)\n\n# Calculate the absolute percentage difference\ndata_diff$Percentage_Difference <- (abs(data_diff$`2020` - data_diff$`2019`) / data_diff$`2019`) * 100\n\n# Create a bar plot showing the absolute percentage difference in loss between 2019 and 2020\nggplot(data_diff, aes(x = Country, y = Percentage_Difference)) +\n  geom_bar(stat = \"identity\", fill = \"brown2\") +\n  labs(title = \"Comparative Analysis of Loss by Country in Percentage\",\n       x = \"Country\", y = \"Percentage Difference in Loss (%)\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        plot.title = element_text(hjust = 0.5)) +  # Center the title\n  geom_text(aes(label = round(Percentage_Difference, 1)), vjust = -0.5, color = \"black\")  # Add values on top of the bars\n```\n\n::: {.cell-output-display}\n![](Plots_code_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(tidyr)  # for spread function\nlibrary(ggplot2)  # for plotting\nlibrary(dplyr)  # for data manipulation\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\n# Spread data to have years as columns\ndata_diff <- spread(data_filtered, Year, Loss.in.Billion)\n\n# Calculate the absolute percentage difference and rename it\ndata_diff$Loss_Percentage <- (abs(data_diff$`2020` - data_diff$`2019`) / data_diff$`2019`) * 100\n\n# Create a bar plot showing the absolute percentage difference in loss between 2019 and 2020\nplot2 = ggplot(data_diff, aes(x = reorder(Country, Loss_Percentage), y = Loss_Percentage, fill = Loss_Percentage)) +\n  geom_bar(stat = \"identity\") +\n  scale_fill_gradient(low = \"lightblue\", high = \"darkblue\") +  # Light to dark gradient\n  labs(title = \"Comparative Analysis of Loss by Country in Percentage\",\n       x = \"Country\", y = \"Loss (%)\") +  # Updated y-axis label\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        plot.title = element_text(hjust = 0.5)) +  # Center the title\n  geom_text(aes(label = round(Loss_Percentage, 1)), vjust = -0.5, color = \"black\")  # Add values on top of the bars\nprint(plot2)\n```\n\n::: {.cell-output-display}\n![](Plots_code_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"C:\\\\Users\\\\jeeva\\\\OneDrive\\\\Desktop\\\\STAT - First sem\\\\Mid Project\\\\Mid Project\\\\plot2_high_res.png\", plot = plot2, dpi = 300, width = 14, height = 8, units = \"in\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(repos = c(CRAN = \"https://cran.rstudio.com/\"))\n\ninstall.packages(\"plotly\")  # Uncomment this line to install the package\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nInstalling package into 'C:/Users/jeeva/AppData/Local/R/win-library/4.4'\n(as 'lib' is unspecified)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\npackage 'plotly' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\jeeva\\AppData\\Local\\Temp\\RtmpAHQct1\\downloaded_packages\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(plotly)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'plotly'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:stats':\n\n    filter\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:graphics':\n\n    layout\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#3 Load necessary libraries\nlibrary(ggplot2)\nlibrary(plotly)\n\n# Create the plot and assign it to an object called plot1\nplot1 <- ggplot(data_filtered, aes(x = Country, y = Loss.in.Billion, fill = as.factor(Year))) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  \n  # Add text labels on top of the bars showing the exact loss values\n  geom_text(aes(label = Loss.in.Billion), \n            position = position_dodge(width = 0.9), \n            vjust = -0.5) +  # Adjust vertical position of labels\n  \n  # Use custom colors: purple for 2019 and yellow for 2020\n  scale_fill_manual(values = c(\"2019\" = \"purple\", \"2020\" = \"yellow\")) +\n  \n  # Set labels and theme\n  labs(title = \"Loss Comparison by Country for 2019 and 2020\",\n       x = \"Country\", y = \"Loss in Billion\", fill = \"Year\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n# Convert to an interactive plot\nplotly_plot <- ggplotly(plot1)\n\n# Print the interactive plot\nprint(plotly_plot)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"htmlwidgets\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nInstalling package into 'C:/Users/jeeva/AppData/Local/R/win-library/4.4'\n(as 'lib' is unspecified)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\npackage 'htmlwidgets' successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\jeeva\\AppData\\Local\\Temp\\RtmpAHQct1\\downloaded_packages\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#3 Load necessary libraries\nlibrary(ggplot2)\nlibrary(plotly)\n# Save the interactive plot as an HTML file\nlibrary(htmlwidgets)\n\n# Create the plot and assign it to an object called plot1\nplot1 <- ggplot(data_filtered, aes(x = Country, y = Loss.in.Billion, fill = as.factor(Year))) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  \n  # Add text labels on top of the bars showing the exact loss values\n  geom_text(aes(label = Loss.in.Billion), \n            position = position_dodge(width = 0.9), \n            vjust = -0.5) +  # Adjust vertical position of labels\n  \n  # Use custom colors: purple for 2019 and yellow for 2020\n  scale_fill_manual(values = c(\"2019\" = \"purple\", \"2020\" = \"yellow\")) +\n  \n  # Set labels and theme\n  labs(title = \"Loss Comparison by Country for 2019 and 2020\",\n       x = \"Country\", y = \"Loss in Billion\", fill = \"Year\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n# Convert to an interactive plot\nplotly_plot <- ggplotly(plot1)\n\n# Print the interactive plot\nprint(plotly_plot)\n\n# Save plot as an HTML file\nsaveWidget(plotly_plot, \"interactive_plot.html\", selfcontained = TRUE)\n```\n:::\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "Plots_code_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
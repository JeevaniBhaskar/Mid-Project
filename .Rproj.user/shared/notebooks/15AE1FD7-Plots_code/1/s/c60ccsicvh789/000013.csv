"0","# Load necessary libraries"
"0","library(tidyr)  # for spread function"
"0","library(ggplot2)  # for plotting"
"0",""
"0","# Spread data to have years as columns"
"0","data_diff <- spread(data_filtered, Year, Loss.in.Billion)"
"0",""
"0","# Calculate the difference"
"0","data_diff$Difference <- data_diff$`2019` - data_diff$`2020`"
"0",""
"0","# Create a bar plot showing the difference in loss between 2019 and 2020"
"0","ggplot(data_diff, aes(x = Country, y = Difference)) +"
"0","  geom_bar(stat = ""identity"", fill = ""brown2"") +"
"0","  labs(title = ""Comparative Analysis of Loss by Country"",  # Fixed spelling of 'Comparative'"
"0","       x = ""Country"", y = ""Difference in Loss (Billion)"") +"
"0","  theme(axis.text.x = element_text(angle = 45, hjust = 1),"
"0","        plot.title = element_text(hjust = 0.5)) +  # Center the title"
"0","  geom_text(aes(label = Difference), vjust = -0.5, color = ""black"")  # Add values on top of the bars"
